<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✨ Aurora Love Letter - A Message From The Heart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@400;700&family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            background: #0a0e27;
            position: relative;
            cursor: none;
        }

        /* Aurora Background - Enhanced */
        .aurora-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
        }

        .aurora {
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            opacity: 0.7;
        }

        .aurora-1 {
            background: radial-gradient(ellipse at 30% 20%, rgba(0, 255, 200, 0.4) 0%, transparent 40%),
            radial-gradient(ellipse at 70% 30%, rgba(138, 43, 226, 0.35) 0%, transparent 45%),
            radial-gradient(ellipse at 50% 50%, rgba(0, 191, 255, 0.25) 0%, transparent 50%),
            radial-gradient(ellipse at 20% 70%, rgba(255, 105, 180, 0.3) 0%, transparent 45%);
            animation: aurora-drift-1 20s ease-in-out infinite;
            filter: blur(80px);
        }

        .aurora-2 {
            background: radial-gradient(ellipse at 60% 40%, rgba(255, 0, 255, 0.3) 0%, transparent 45%),
            radial-gradient(ellipse at 30% 60%, rgba(0, 255, 255, 0.35) 0%, transparent 50%),
            radial-gradient(ellipse at 80% 70%, rgba(138, 43, 226, 0.3) 0%, transparent 50%),
            radial-gradient(ellipse at 10% 30%, rgba(0, 255, 150, 0.25) 0%, transparent 45%);
            animation: aurora-drift-2 25s ease-in-out infinite;
            filter: blur(90px);
        }

        .aurora-3 {
            background: radial-gradient(ellipse at 40% 80%, rgba(0, 255, 150, 0.3) 0%, transparent 50%),
            radial-gradient(ellipse at 90% 20%, rgba(255, 105, 180, 0.28) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 40%, rgba(138, 43, 226, 0.25) 0%, transparent 45%);
            animation: aurora-drift-3 22s ease-in-out infinite;
            filter: blur(75px);
        }

        @keyframes aurora-drift-1 {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0.7;
            }
            25% {
                transform: translate(-8%, 12%) rotate(3deg) scale(1.08);
                opacity: 0.8;
            }
            50% {
                transform: translate(5%, -8%) rotate(-2deg) scale(0.95);
                opacity: 0.75;
            }
            75% {
                transform: translate(-5%, 5%) rotate(4deg) scale(1.05);
                opacity: 0.7;
            }
        }

        @keyframes aurora-drift-2 {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0.65;
            }
            33% {
                transform: translate(10%, -10%) rotate(-5deg) scale(1.12);
                opacity: 0.75;
            }
            66% {
                transform: translate(-7%, 8%) rotate(3deg) scale(0.92);
                opacity: 0.7;
            }
        }

        @keyframes aurora-drift-3 {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0.6;
            }
            40% {
                transform: translate(-6%, 15%) rotate(6deg) scale(1.1);
                opacity: 0.7;
            }
            80% {
                transform: translate(8%, -12%) rotate(-4deg) scale(0.88);
                opacity: 0.65;
            }
        }

        /* Stars - Enhanced */
        .stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 4s ease-in-out infinite;
        }

        .star-small {
            width: 1px;
            height: 1px;
        }

        .star-medium {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.8);
        }

        .star-large {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.9);
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0.3;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.3);
            }
        }

        /* Shooting Stars */
        .shooting-star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 15px 3px rgba(255, 255, 255, 0.9);
            animation: shoot 2.5s linear;
        }

        .shooting-star::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, white, transparent);
            transform-origin: left center;
        }

        @keyframes shoot {
            0% {
                transform: translateX(0) translateY(0) rotate(-45deg);
                opacity: 1;
            }
            100% {
                transform: translateX(-400px) translateY(400px) rotate(-45deg);
                opacity: 0;
            }
        }

        /* Floating Particles */
        .particle {
            position: absolute;
            border-radius: 50%;
            animation: float-particle 10s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes float-particle {
            0% {
                transform: translateY(0) translateX(0) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(-120vh) translateX(50px) scale(1);
                opacity: 0;
            }
        }

        /* Custom Cursor - Enhanced */
        .custom-cursor {
            width: 35px;
            height: 35px;
            border: 2px solid rgba(138, 43, 226, 0.8);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transition: all 0.15s ease;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 25px rgba(138, 43, 226, 0.6),
            inset 0 0 15px rgba(138, 43, 226, 0.3);
        }

        .cursor-dot {
            width: 10px;
            height: 10px;
            background: linear-gradient(135deg, #8a2be2, #ff00ff);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 10000;
            transition: all 0.08s ease;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 15px rgba(138, 43, 226, 1);
        }

        /* Container */
        .container {
            position: relative;
            z-index: 2;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            perspective: 2000px;
        }

        /* Envelope Wrapper */
        .envelope-wrapper {
            position: relative;
            width: 100%;
            max-width: 650px;
            transition: all 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            opacity: 1;
            filter: drop-shadow(0 25px 50px rgba(0, 0, 0, 0.5));
        }

        .envelope-wrapper.disappear {
            opacity: 0;
            transform: scale(0.3) translateY(150px) rotateX(45deg);
            pointer-events: none;
            filter: blur(10px);
        }

        /* Wax Seal - RED WITH WHITE HEART */
        .wax-seal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110px;
            height: 110px;
            background: radial-gradient(circle at 30% 30%, #dc143c, #b91c1c 40%, #8b0000);
            border-radius: 50%;
            z-index: 20;
            box-shadow: 0 0 60px rgba(220, 20, 60, 0.9),
            0 0 100px rgba(139, 0, 0, 0.6),
            inset 0 -5px 15px rgba(0, 0, 0, 0.6),
            inset 0 5px 15px rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.2rem;
            animation: seal-glow-pulse 2.5s ease-in-out infinite;
        }

        @keyframes seal-glow-pulse {
            0%, 100% {
                box-shadow: 0 0 60px rgba(220, 20, 60, 0.9),
                0 0 100px rgba(139, 0, 0, 0.6),
                inset 0 -5px 15px rgba(0, 0, 0, 0.6),
                inset 0 5px 15px rgba(255, 255, 255, 0.3);
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                box-shadow: 0 0 80px rgba(220, 20, 60, 1),
                0 0 120px rgba(139, 0, 0, 0.8),
                0 0 150px rgba(255, 69, 0, 0.4),
                inset 0 -5px 15px rgba(0, 0, 0, 0.6),
                inset 0 5px 15px rgba(255, 255, 255, 0.3);
                transform: translate(-50%, -50%) scale(1.05);
            }
        }

        .wax-seal:hover {
            transform: translate(-50%, -50%) scale(1.15);
            box-shadow: 0 0 90px rgba(220, 20, 60, 1),
            0 0 130px rgba(139, 0, 0, 0.9);
            animation: none;
        }

        .wax-seal::before {
            content: '🤍';
            animation: heartPulse 1.8s ease-in-out infinite;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
        }

        @keyframes heartPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.25);
            }
        }

        .wax-seal.breaking {
            animation: sealBreak 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes sealBreak {
            0% {
                transform: translate(-50%, -50%) scale(1) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.4) rotate(180deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(0) rotate(360deg);
                opacity: 0;
            }
        }

        /* Seal Particles - RED */
        .seal-particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, #dc143c, #8b0000);
            box-shadow: 0 0 15px rgba(220, 20, 60, 0.9);
        }

        /* Envelope - Premium Rose Gold & Pearl Design */
        .envelope {
            position: relative;
            width: 100%;
            padding-top: 62.5%;
            transform-style: preserve-3d;
        }

        .envelope-back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
            #ffd8be 0%,
            #ffcba4 15%,
            #ffc09f 30%,
            #ffb493 45%,
            #f4a582 60%,
            #e89972 75%,
            #d88a67 90%,
            #c87b5c 100%);
            border-radius: 12px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
            z-index: 2;
        }

        .envelope-back::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.4) 0%,
            transparent 50%,
            rgba(255, 215, 180, 0.3) 100%);
            border-radius: 12px;
        }

        .envelope-front {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
            #ffe4d0 0%,
            #ffd6ba 25%,
            #ffc9a8 50%,
            #edb89a 75%,
            #d9a68c 100%);
            border-radius: 12px;
            clip-path: polygon(0 0, 50% 40%, 100% 0, 100% 100%, 0 100%);
            z-index: 3;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .envelope-front::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg,
            rgba(255, 255, 255, 0.3) 0%,
            transparent 60%);
            clip-path: polygon(0 0, 50% 40%, 100% 0, 100% 100%, 0 100%);
        }

        /* Envelope Flap - Premium Pearl Shimmer */
        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: linear-gradient(135deg,
            #fff5eb 0%,
            #ffe8d6 20%,
            #ffdcc2 40%,
            #f5cfb1 60%,
            #e6c0a3 80%,
            #d4b095 100%);
            border-radius: 12px 12px 0 0;
            transform-origin: top center;
            transform: rotateX(0deg);
            transition: transform 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 15;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            clip-path: polygon(0 0, 50% 100%, 100% 0);
        }

        .envelope-flap::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg,
            rgba(255, 255, 255, 0.5) 0%,
            rgba(255, 255, 255, 0.2) 25%,
            transparent 50%,
            rgba(212, 176, 149, 0.4) 100%);
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% {
                opacity: 0.5;
            }
            50% {
                opacity: 1;
            }
        }

        .envelope-flap::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg,
            transparent,
            rgba(255, 255, 255, 0.6),
            transparent);
            transform: translate(-50%, -50%);
        }

        .envelope-wrapper.opening .envelope-flap {
            transform: rotateX(-180deg);
            box-shadow: 0 -8px 30px rgba(0, 0, 0, 0.3);
        }

        /* Open Button - Enhanced */
        .open-button {
            position: absolute;
            top: 120%;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            padding: 22px 55px;
            background: linear-gradient(135deg, #ff1493 0%, #8a2be2 50%, #00bfff 100%);
            background-size: 200% 200%;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 15px 45px rgba(138, 43, 226, 0.6),
            0 5px 15px rgba(255, 20, 147, 0.4);
            transition: all 0.4s ease;
            z-index: 18;
            animation: button-bounce 2.5s ease-in-out infinite, gradient-slide 3s ease infinite;
            letter-spacing: 1px;
        }

        @keyframes button-bounce {
            0%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            50% {
                transform: translateX(-50%) translateY(-12px);
            }
        }

        @keyframes gradient-slide {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }

        .open-button:hover {
            transform: translateX(-50%) translateY(-8px) scale(1.05);
            box-shadow: 0 20px 60px rgba(138, 43, 226, 0.8),
            0 10px 25px rgba(255, 20, 147, 0.6);
        }

        .open-button.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateX(-50%) translateY(50px) scale(0.8);
        }

        /* Letter Card - Premium Glassmorphic */
        .letter-card {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 90%;
            max-width: 900px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(30px) saturate(150%);
            border-radius: 35px;
            padding: 60px;
            box-shadow: 0 25px 100px rgba(138, 43, 226, 0.4),
            0 10px 40px rgba(255, 20, 147, 0.3),
            inset 0 0 80px rgba(138, 43, 226, 0.08);
            border: 3px solid rgba(138, 43, 226, 0.35);
            opacity: 0;
            transition: all 1.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 30;
        }

        .letter-card::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 35px;
            padding: 3px;
            background: linear-gradient(135deg,
            rgba(255, 20, 147, 0.5),
            rgba(138, 43, 226, 0.5),
            rgba(0, 191, 255, 0.5));
            -webkit-mask: linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: border-glow 3s ease-in-out infinite;
        }

        @keyframes border-glow {
            0%, 100% {
                opacity: 0.5;
            }
            50% {
                opacity: 1;
            }
        }

        .letter-card.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        /* Letter Header - Enhanced */
        .letter-header {
            text-align: center;
            margin-bottom: 45px;
            opacity: 0;
        }

        .letter-card.show .letter-header {
            animation: fadeInUp 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.4s forwards;
        }

        .letter-header h2 {
            font-family: 'Great Vibes', cursive;
            font-size: 4.5rem;
            background: linear-gradient(135deg,
            #ff1493 0%,
            #8a2be2 25%,
            #00bfff 50%,
            #00ff7f 75%,
            #ff1493 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            filter: drop-shadow(0 0 25px rgba(138, 43, 226, 0.6));
            animation: title-gradient-shift 4s ease-in-out infinite;
            background-size: 300% 300%;
        }

        @keyframes title-gradient-shift {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }

        .letter-date {
            font-family: 'Playfair Display', serif;
            font-size: 1.05rem;
            color: rgba(255, 255, 255, 0.65);
            font-style: italic;
            letter-spacing: 1px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Letter Body - PAPER/PARCHMENT STYLE */
        .letter-body {
            font-family: 'Dancing Script', cursive;
            font-size: 1.9rem;
            line-height: 2.3;
            color: #2d1b0e;
            text-align: center;
            min-height: 320px;
            padding: 40px;
            border-radius: 15px;

            /* Paper/Parchment Background */
            background: linear-gradient(135deg,
            #fff9f0 0%,
            #fffbf5 15%,
            #fef8ef 30%,
            #fef6ea 45%,
            #fdf4e5 60%,
            #fcf2e0 75%,
            #fbf0db 90%,
            #faefd6 100%);

            /* Paper Texture Effect */
            background-image:
                    linear-gradient(135deg,
                    #fff9f0 0%,
                    #fffbf5 15%,
                    #fef8ef 30%,
                    #fef6ea 45%,
                    #fdf4e5 60%,
                    #fcf2e0 75%,
                    #fbf0db 90%,
                    #faefd6 100%),
                    repeating-linear-gradient(
                            90deg,
                            transparent,
                            transparent 2px,
                            rgba(139, 115, 85, 0.02) 2px,
                            rgba(139, 115, 85, 0.02) 4px
                    );

            /* Vintage Paper Border */
            border: 3px solid #d4a574;
            box-shadow:
                    0 5px 20px rgba(139, 90, 43, 0.3),
                    inset 0 0 60px rgba(212, 165, 116, 0.15),
                    inset 0 2px 0 rgba(255, 255, 255, 0.4),
                    inset 0 -2px 0 rgba(139, 90, 43, 0.2);

            opacity: 0;
            position: relative;
            overflow: visible;
            user-select: none;

            /* Text Shadow for Paper */
            text-shadow: 0 1px 2px rgba(212, 165, 116, 0.3);
        }

        /* Decorative Corner Elements - More Paper-like */
        .letter-body::before,
        .letter-body::after {
            content: '✨';
            position: absolute;
            font-size: 1.3rem;
            opacity: 0.5;
            color: #c8956d;
        }

        .letter-body::before {
            top: 12px;
            left: 12px;
        }

        .letter-body::after {
            bottom: 12px;
            right: 12px;
        }

        .letter-card.show .letter-body {
            animation: fadeInUp 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.7s forwards;
        }

        /* Typewriter cursor - Enhanced */
        .typewriter-cursor {
            display: inline-block;
            width: 3px;
            height: 1.5em;
            background: linear-gradient(180deg, #8b5a2d, #c8956d);
            margin-left: 4px;
            animation: cursor-blink 1.1s step-end infinite;
            box-shadow: 0 0 8px rgba(200, 149, 109, 0.6);
            border-radius: 2px;
        }

        @keyframes cursor-blink {
            0%, 50% {
                opacity: 1;
            }
            51%, 100% {
                opacity: 0;
            }
        }

        /* Music Toggle - Enhanced */
        .music-toggle {
            position: fixed;
            top: 35px;
            right: 35px;
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #ff1493 0%, #8a2be2 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 12px 35px rgba(138, 43, 226, 0.5);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            transition: all 0.3s ease;
        }

        .music-toggle:hover {
            transform: scale(1.15);
            box-shadow: 0 18px 50px rgba(138, 43, 226, 0.7);
        }

        .music-toggle.playing {
            animation: music-spin 4s linear infinite;
            box-shadow: 0 12px 35px rgba(138, 43, 226, 0.5),
            0 0 60px rgba(255, 20, 147, 0.4);
        }

        @keyframes music-spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        /* Heart Trail - Enhanced */
        .heart-trail {
            position: fixed;
            pointer-events: none;
            font-size: 26px;
            z-index: 9998;
            animation: heartTrailFloat 2.2s ease-out forwards;
            filter: drop-shadow(0 0 8px rgba(138, 43, 226, 0.9));
        }

        @keyframes heartTrailFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-180px) scale(0.2) rotate(360deg);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .letter-header h2 {
                font-size: 3rem;
            }

            .letter-body {
                font-size: 1.5rem;
                line-height: 2;
                padding: 30px;
            }

            .letter-card {
                padding: 40px 25px;
            }

            .open-button {
                font-size: 1.2rem;
                padding: 18px 40px;
            }

            .wax-seal {
                width: 90px;
                height: 90px;
                font-size: 2.8rem;
            }

            .music-toggle {
                width: 55px;
                height: 55px;
                font-size: 1.3rem;
                top: 25px;
                right: 25px;
            }
        }

        @media (max-width: 480px) {
            .letter-header h2 {
                font-size: 2.4rem;
            }

            .letter-body {
                font-size: 1.3rem;
                min-height: 280px;
                padding: 25px;
            }
        }

        /* Mobile cursor fallback */
        @media (hover: none) {
            .custom-cursor,
            .cursor-dot {
                display: none;
            }
        }
    </style>
</head>
<body>
<!-- Custom Cursor -->
<div class="custom-cursor"></div>
<div class="cursor-dot"></div>

<!-- Aurora Background -->
<div class="aurora-container">
    <div class="aurora aurora-1"></div>
    <div class="aurora aurora-2"></div>
    <div class="aurora aurora-3"></div>
</div>

<!-- Stars -->
<div class="stars-container" id="starsContainer"></div>

<!-- Background Music -->
<audio id="bgMusic" loop>
    <source src="https://www.dropbox.com/scl/fi/cgqz9nv9j19e7nfhlvumk/Sun-Saathiya-Maahiya-Slowed-Reverb-ABCD-2-Priya-Saraiya-Divya-Kumar-Srk-Lofi-World.mp3?rlkey=7juzokvjxc85b5q6d0s1iwk69&dl=1" type="audio/mpeg">
</audio>

<!-- Music Toggle -->
<button class="music-toggle" id="musicToggle" title="Toggle Music">
    🎵
</button>

<!-- Main Container -->
<div class="container">
    <!-- Envelope Wrapper -->
    <div class="envelope-wrapper" id="envelopeWrapper">
        <!-- Wax Seal -->
        <div class="wax-seal" id="waxSeal"></div>

        <!-- Envelope -->
        <div class="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="envelope-flap" id="envelopeFlap"></div>
        </div>

        <!-- Open Button -->
        <button class="open-button" id="openButton">
            Open Envelope ✨💌
        </button>
    </div>

    <!-- Letter Card -->
    <div class="letter-card" id="letterCard">
        <div class="letter-header">
            <h2 id="letterRecipient">To My Aurora</h2>
            <p class="letter-date" id="letterDate"></p>
        </div>
        <div class="letter-body" id="letterBody">
            <div class="letter-body-inner"></div>
        </div>
    </div>
</div>

<script>
    // Configuration
    let config = {
        letter: {
            defaultText: "Like the aurora dancing across the night sky, you illuminate my darkest moments with colors I never knew existed. Your presence is the magic that transforms the ordinary into extraordinary, painting my world with wonder and light. Just as the northern lights captivate all who witness them, you've captured my heart completely. In the vast universe of possibilities, finding you feels like witnessing the most beautiful aurora—rare, breathtaking, and absolutely mesmerizing. Forever enchanted by you. 💜✨",
            recipient: "To My Aurora",
            sender: "Forever Yours"
        },
        music: {
            url: "https://www.dropbox.com/scl/fi/cgqz9nv9j19e7nfhlvumk/Sun-Saathiya-Maahiya-Slowed-Reverb-ABCD-2-Priya-Saraiya-Divya-Kumar-Srk-Lofi-World.mp3?rlkey=7juzokvjxc85b5q6d0s1iwk69&dl=1",
            autoplay: true,
            volume: 0.6
        },
        animations: {
            typewriterSpeed: 30,
            envelopeOpenDelay: 900,
            letterShowDelay: 2300
        }
    };

    // Load config.json
    fetch('config.json')
        .then(response => response.json())
        .then(data => {
            config = data;
            bgMusic.src = config.music.url;
            bgMusic.volume = config.music.volume;
            letterRecipient.textContent = config.letter.recipient;
            initializeApp();
        })
        .catch(error => {
            console.log('Using default configuration');
            initializeApp();
        });

    // Elements
    const waxSeal = document.getElementById('waxSeal');
    const envelopeWrapper = document.getElementById('envelopeWrapper');
    const openButton = document.getElementById('openButton');
    const letterCard = document.getElementById('letterCard');
    const letterBody = document.getElementById('letterBody');
    const letterRecipient = document.getElementById('letterRecipient');
    const musicToggle = document.getElementById('musicToggle');
    const bgMusic = document.getElementById('bgMusic');
    const letterDate = document.getElementById('letterDate');

    // Custom Cursor
    const cursor = document.querySelector('.custom-cursor');
    const cursorDot = document.querySelector('.cursor-dot');

    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
        cursorDot.style.left = e.clientX + 'px';
        cursorDot.style.top = e.clientY + 'px';
    });

    // Heart Trail
    let heartTrailInterval;
    document.addEventListener('mousemove', (e) => {
        clearTimeout(heartTrailInterval);
        heartTrailInterval = setTimeout(() => {
            createHeartTrail(e.clientX, e.clientY);
        }, 120);
    });

    function createHeartTrail(x, y) {
        const hearts = ['💜', '💙', '💚', '💖', '✨', '🌟', '💫', '🌸'];
        const heart = document.createElement('div');
        heart.className = 'heart-trail';
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        document.body.appendChild(heart);

        setTimeout(() => heart.remove(), 2200);
    }

    // Create Enhanced Stars
    function createStars() {
        const container = document.getElementById('starsContainer');

        for (let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';

            const size = Math.random();
            if (size > 0.7) {
                star.classList.add('star-large');
            } else if (size > 0.4) {
                star.classList.add('star-medium');
            } else {
                star.classList.add('star-small');
            }

            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 4 + 's';
            star.style.animationDuration = (Math.random() * 3 + 2) + 's';
            container.appendChild(star);
        }

        setInterval(() => {
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            shootingStar.style.left = (Math.random() * 50 + 50) + '%';
            shootingStar.style.top = Math.random() * 40 + '%';
            container.appendChild(shootingStar);

            setTimeout(() => shootingStar.remove(), 2500);
        }, 4000);
    }

    // Create Floating Particles
    function createParticles() {
        const container = document.querySelector('.aurora-container');
        setInterval(() => {
            const particle = document.createElement('div');
            particle.className = 'particle';

            const colors = [
                'rgba(138, 43, 226, 0.6)',
                'rgba(255, 20, 147, 0.6)',
                'rgba(0, 191, 255, 0.6)',
                'rgba(0, 255, 127, 0.6)'
            ];

            particle.style.background = colors[Math.floor(Math.random() * colors.length)];
            particle.style.width = (Math.random() * 5 + 3) + 'px';
            particle.style.height = particle.style.width;
            particle.style.left = Math.random() * 100 + '%';
            particle.style.bottom = '-20px';
            particle.style.animationDuration = (Math.random() * 6 + 8) + 's';
            particle.style.boxShadow = `0 0 20px ${particle.style.background}`;

            container.appendChild(particle);

            setTimeout(() => particle.remove(), 14000);
        }, 600);
    }

    // Enhanced Wax Seal Break Effect
    function breakSeal() {
        waxSeal.classList.add('breaking');

        for (let i = 0; i < 40; i++) {
            const particle = document.createElement('div');
            particle.className = 'seal-particle';
            const rect = waxSeal.getBoundingClientRect();

            const size = Math.random() * 12 + 6;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = rect.left + rect.width / 2 + 'px';
            particle.style.top = rect.top + rect.height / 2 + 'px';

            document.body.appendChild(particle);

            const angle = (Math.PI * 2 * i) / 40;
            const velocity = 150 + Math.random() * 200;
            const vx = Math.cos(angle) * velocity;
            const vy = Math.sin(angle) * velocity;

            let posX = rect.left + rect.width / 2;
            let posY = rect.top + rect.height / 2;
            let opacity = 1;
            let rotation = 0;

            const animate = () => {
                posX += vx * 0.016;
                posY += vy * 0.016 + 600 * 0.016 * 0.016;
                opacity -= 0.012;
                rotation += 10;

                particle.style.left = posX + 'px';
                particle.style.top = posY + 'px';
                particle.style.opacity = opacity;
                particle.style.transform = `rotate(${rotation}deg)`;

                if (opacity > 0) {
                    requestAnimationFrame(animate);
                } else {
                    particle.remove();
                }
            };

            requestAnimationFrame(animate);
        }

        setTimeout(() => {
            waxSeal.style.display = 'none';
        }, 700);
    }

    // Music state
    let isPlaying = false;

    // Open Envelope and Show Letter
    function openEnvelope() {
        breakSeal();
        openButton.classList.add('hidden');

        // Start music when envelope opens
        bgMusic.play().then(() => {
            isPlaying = true;
            musicToggle.textContent = '🎶';
            musicToggle.classList.add('playing');
        }).catch(error => {
            console.log('Auto-play prevented. User can click music button.');
        });

        setTimeout(() => {
            envelopeWrapper.classList.add('opening');
        }, config.animations.envelopeOpenDelay);

        setTimeout(() => {
            envelopeWrapper.classList.add('disappear');

            setTimeout(() => {
                letterCard.classList.add('show');
                startTypewriter();
            }, 600);
        }, config.animations.letterShowDelay);
    }

    // Enhanced Typewriter Effect
    function startTypewriter() {
        const text = config.letter.defaultText;
        let index = 0;
        letterBody.textContent = '';

        const cursor = document.createElement('span');
        cursor.className = 'typewriter-cursor';
        letterBody.appendChild(cursor);

        const type = () => {
            if (index < text.length) {
                const textNode = document.createTextNode(text[index]);
                letterBody.insertBefore(textNode, cursor);
                index++;
                setTimeout(type, config.animations.typewriterSpeed);
            } else {
                setTimeout(() => {
                    cursor.remove();
                    letterBody.textContent = text;
                }, 1200);
            }
        };

        setTimeout(type, 1000);
    }

    // Initialize App
    function initializeApp() {
        // Set date
        const today = new Date();
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        letterDate.textContent = today.toLocaleDateString('en-US', options);

        // Initialize animations
        createStars();
        createParticles();
    }

    // Event Listeners
    waxSeal.addEventListener('click', openEnvelope);
    openButton.addEventListener('click', openEnvelope);

    // Music Toggle
    musicToggle.addEventListener('click', () => {
        if (isPlaying) {
            bgMusic.pause();
            musicToggle.textContent = '🎵';
            musicToggle.classList.remove('playing');
        } else {
            bgMusic.play();
            musicToggle.textContent = '🎶';
            musicToggle.classList.add('playing');
        }
        isPlaying = !isPlaying;
    });

    // Mobile touch support
    if ('ontouchstart' in window) {
        cursor.style.display = 'none';
        cursorDot.style.display = 'none';
    }
</script>
</body>
</html>